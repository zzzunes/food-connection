<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <meta charset="utf-8">
    <title>User Data</title>

</head>
<h1> Enter the New Food: </h1>
<body>
Demography: <br><br>

    <label> All Users<input type="checkbox" name="allUsers" id="nuts"></label><br><br>
    Race:
    <div>
        <label>black<input type="checkbox" name="black" value= "" id="black"></label>
        <label>white<input type="checkbox" name="white" id="white"></label>
        <label>asian<input type="checkbox" name="asian" id="asian"></label>
        <label>hispanic<input type="checkbox" name="hispanic" id="hispanic"></label>
    </div><br><br>
    Age Range:
    <div>
        <input type="text" name="min_age" id="min_age">
        to
        <input type="text" name="min_age" id="max_age">
    </div><br><br>

    Gender:
    <div >
        <label>male<input type="checkbox" name="black" id="male"></label>
        <label>female<input type="checkbox" name="black" id="female"></label>
        <label>non-binary<input type="checkbox" name="black" id="non_binary"></label>
    </div><br><br>

    Major:
    <div>
        <label>Math<input type="checkbox" name="black" id="math"></label>
        <label>Engineering<input type="checkbox" name="black" id="engineering"></label>
        <label>Liberal Arts<input type="checkbox" name="black" id="liberal_arts"></label>
        <label>Health Science<input type="checkbox" name="black" id="health_science"></label>
    </div><br><br>

    <input type="submit" value="Submit" onclick="display()">
    <label>name="kkk" id="kkk"></label>
</body>
<script type="text/javascript">
    function getData(){
        var jsonData;
        fetch('http://192.168.1.103:5000/users/', {
            method: 'GET',
            headers: {
                'Content-Type': 'Application/json'
            }
        }).then(res=>{jsonData=res})
        .catch(err => {alert(JSON.message);});
        alert(typeof(jsonData));
        return jsonData;

    }
    function createElementsFromJSON(json, parent) {
        alert(typeof json);
        for (var i in json){
            var object= json [i];
            var obj = document.createElement(object.element);

            for(var tag in object)
                if (tag!="children"&&tag!="element")
                    obj.setAttribute(tag, object[tag]);

            parent.appendChild(obj);

            if (typeof(object.children)=="object")
                createElementsFromJSON(object.children, obj)
        }
        alert(typeof object);
        return object;
    }
    function display(){
        //var response=Document.getElementById("kkk");
        createElementsFromJSON(getData(),Document.body);
        alert("display() finished");
        //location.reload(true);
    }
    function selectedDemos(){
        const male = document.getElementById("male");
        const female = document.getElementById("female");
        const non_binary = document.getElementById("non-binary");
        const black = document.getElementById("black");
        const white = document.getElementById("white");
        const asian = document.getElementById("asian");
        const hispanic = document.getElementById("hispanic");
        const min_age = document.getElementById("min_age");
        const max_age = document.getElementById("max_age");
        
        var genders=[];
        if (male.checked){
            genders.push("Male");
        }
        if (female.checked){
            genders.push("Male");
        }
        if (non_binary.checked){
            genders.push("Male");
        }

        var races=[];
        if (black.checked){
            races.push("Black");
        }
        if (white.checked){
            races.push("");;
        }
        if (asian.checked){
            races.push("Asian");
        }
        if (hispanic.checked){
            races.push("Hispanic");
        }

        var ageRange=[0,100]
        if (min_age!=null){
            ageRange[0]=min_age;
        }
        if (max_age!=null){
            ageRange[1]=max_age;
        }
        
    }
    /*function narrowData() {
        
    } */
    function narrowByRace(races) {

    }
    function narrowByAge() {

    }
    function narrowByGender() {

    }
    function narrowByMajor() {

    }


        /*const race=document.getElementById("race");
const age=document.getElementById("age");
const major=document.getElementById("major");

while (race.checked){
var raceOptions= document.createElement("input");
raceOptions.type="checkbox";
raceOptions.name="Black";
raceOptions.value="value";
raceOptions.id="id";

var blackLabel= document.createElement("label");
blackLabel.htmlFor="id";
blackLabel.appendChild(document.createTextNode("Black"));

race.appendChild(raceOptions);
race.appendChild(blackLabel);

*/

</script>
</html>